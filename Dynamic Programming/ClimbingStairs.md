# 爬楼梯 (Climbing Stairs)

> leetcode 70题

### 题目

假设你正在爬楼梯。需要 `n` 阶你才能到达楼顶。

每次你可以爬 `1` 或 `2` 个台阶。你有多少种不同的方法可以爬到楼顶呢？

**示例 1：**

```
输入：n = 2
输出：2
解释：有两种方法可以爬到楼顶。
1. 1 阶 + 1 阶
2. 2 阶
```

**示例 2：**

```
输入：n = 3
输出：3
解释：有三种方法可以爬到楼顶。
1. 1 阶 + 1 阶 + 1 阶
2. 1 阶 + 2 阶
3. 2 阶 + 1 阶
```

**提示：**

- `1 <= n <= 45`

### 思路1

假设楼梯有`5`阶，那么走到第`5`阶，可以从第`4`阶爬一个台阶上去，或者从第`3`阶爬两个台阶上去。

所以，走到第`5`阶的方法是：走到第`4`阶的方法与走到第`3`阶的方法之和。

以此类推：

```
f(5) = f(4) + f(3)
f(4) = f(3) + f(2)
f(3) = f(2) + f(1)
f(2) = 2
f(1) = 1
```

由此，可以得到一个式子：

```
f(n) = f(n-1) + f(n-2)
```

使用递归就可以写出代码，当`n = 1`或者`n = 2`时，就会终止递归：

```python
def f1(n):
    if n == 1:
        return 1
    if n == 2:
        return 2
    return f1(n-1) + f1(n-2)
```

### 思路2

使用递归有一个问题，就是很多值算了很多遍。

例如：

```
f(5) = f(4) + f(3)
f(4) = f(3) + f(2)
f(3) = f(2) + f(1)
f(2) = 2
f(1) = 1
```

求`f(5)`时，要计算`f(4)`和`f(3)`；求`f(4)`时，要计算`f(3)`和`f(2)`；`f(3)`就要计算两遍。

可以将已经计算的值，存入一个表中，下次直接从表里面取，如果表里没有，再计算。

```python
d = {1: 1, 2: 2}
def f2(n):
    if n in d:
        return d[n]
    else:
        a = f2(n-1) + f2(n-2)
        d[n] = a
        return a
```

### 思路3

前面使用的时自顶向下的思路，也可以使用自底向上。

根据：

```
f(5) = f(4) + f(3)
f(4) = f(3) + f(2)
f(3) = f(2) + f(1)
f(2) = 2
f(1) = 1
```

如果把它翻过来，就得到：

```
f(1) = 1
f(2) = 2
f(3) = f(2) + f(1)
f(4) = f(3) + f(2)
...
```

只要从3开始将前面计算的2个值相加，就可以使用循环写出代码：

```python
def f3(n):
    dp = [0]*(n+1)
    if n == 1:
        return 1
    dp[1] = 1
    if n == 2:
        return 2
    dp[2] = 2

    for i in range(3, n+1):
        dp[i] = dp[i-1] + dp[i-2]
    return dp[n]
```

为了节省空间，也可以使用两个变量将前面2个计算的值记录下来。

```python
def f4(n):
    if n == 1:
        return 1
    if n == 2:
        return 2
    a, b = 1, 2
    for i in range(3, n+1):
        t = a + b
        a = b
        b = t
    return b
```

